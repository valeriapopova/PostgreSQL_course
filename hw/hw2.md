> 1. открыть консоль и зайти по ssh на ВМ
> 2. открыть вторую консоль и также зайти по ssh на ту же ВМ (можно в докере 2 сеанса)
> 3. запустить везде psql из под пользователя postgres

psql -U postgres

> 4. сделать в первой сессии новую таблицу и наполнить ее данными

```shell
create table orders(id int, state_id int);
insert into orders values(1, 1), (1, 2), (2, 1), (2, 3);
INSERT 0 4
```
> 5. посмотреть текущий уровень изоляции:

```shell
show transaction isolation level;

 transaction_isolation
-----------------------
 read committed
(1 строка)
```
> 6. начать новую транзакцию в обеих сессиях с дефолтным (не меняя) уровнем
изоляции
```shell
 begin;
```
> 7. в первой сессии добавить новую запись
```shell
insert into orders values(3, 11);
INSERT 0 1
```
> 8. сделать запрос на выбор всех записей во второй сессии

```shell
select * from orders;
 id | state_id
----+----------
  1 |        1
  1 |        2
  2 |        1
  2 |        3
(4 строки)
```
> 9. видите ли вы новую запись и если да то почему? После задания можете сверить
правильный ответ с эталонным (будет доступен после 3 лекции)
#### не вижу новую запись, так как транзакция не была зафиксирована (commit), на уровне изоляции read committed «грязное» чтение не допускается

> 10. завершить транзакцию в первом окне

```shell
commit;
```
> 11. сделать запрос на выбор всех записей второй сессии

```shell
 id | state_id
----+----------
  1 |        1
  1 |        2
  2 |        1
  2 |        3
  3 |       11
(5 строк)
```
> 12. видите ли вы новую запись и если да то почему?

#### После коммита в первой сессии запись появилась

> 13. завершите транзакцию во второй сессии

```shell
commit;
```
> 14. начать новые транзакции, но уже на уровне repeatable read в ОБЕИХ сессиях
begin transaction isolation level repeatable read;
> 15. в первой сессии добавить новую запись

```shell
insert into orders values(3, 12);
INSERT 0 1
```
> 16. сделать запрос на выбор всех записей во второй сессии
```shell
select * from orders;
 id | state_id
----+----------
  1 |        1
  1 |        2
  2 |        1
  2 |        3
  3 |       11
(5 строк)
```
> 17. видите ли вы новую запись и если да то почему?

#### Запись не видно, она не была зафиксирована в первой сессии, на уровне изоляции repeatable read «грязное» чтение также не допускается

> 18. завершить транзакцию в первом окне

```shell
commit;
```
> 19. сделать запрос во выбор всех записей второй сессии
```shell
select * from orders;
 id | state_id
----+----------
  1 |        1
  1 |        2
  2 |        1
  2 |        3
  3 |       11
(5 строк)
```
> 20. видите ли вы новую запись и если да то почему?
#### Запись все еще не видно, так как мы работаем со снимком данных и никаких изменений увидеть не можем